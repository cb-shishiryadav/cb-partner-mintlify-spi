# cb-tax-location-validation-spi

Tax Location Validation Service Adapter SPI
- API version: 0.0.1

## Overview
Location validate is a Service Provider Interface (SPI) that helps Chargebee communicate with API platforms providing the following services:
- Validate location of customer

If you have an API that provides the services mentioned above and want Chargebee to be able to integrate with it, you can build an adapter service according to this specification.

## Terminology
Here's a list of terms we've used to describe this specification.
### Merchant 
  Chargebee’s customer who is carrying out the business of selling products. Also known as the Seller. The Seller has one or more Chargebee accounts.
### Chargebee 
 The SaaS which manages subscriptions and revenue operations on behalf of the Merchant. Chargebee makes API calls to the Tax Service Adapter for tax estimation and tax filing of transactions between the Merchant and the Customer.
### Customer 
Merchant’s customer who purchases products from the Merchant. Their customer record(s) and other details are stored within Chargebee under the Merchant’s account.
### Service Provider
The service which provides services for merchants.
### Service Adapter 
The SPI for which the spec is defined in this document. This adapter serves the following purposes:
- Translates API requests (as defined in this document) from Chargebee to the request format specified by the Service Provider's API.
- Translates API responses from the Service Provider APIs to the format understood by Chargebee (as defined in this document).
### Authorization
Chargebee uses HTTP header-based authorization for all the API endpoints associated with Service Adapter. We dynamically pass this authorization key in the HTTP header. The parameter that holds this key is found in the JSON object `api_configuration` required for configuring your onboarding on Chargebee's marketplace. In the `api_configuration` object, our [Taxes Service Adapter SPI](https://chargebee.atlassian.net/l/cp/ca5aZ1mA) checks the authorization key parameter from `credential_configuration.id` and creates the HTTP header-based input query parameter for authorization. The `credential_configuration` is an array of objects with an `id` attribute, and the value of `id` is the parameter containing the authorization key.

  Following are the JSON snippets for your reference.

   ```json
      \"api_configuration\": {
          \"api_base_url\": \"https://xyz.abc.com/chargebee\",
          \"credential_configuration\": [ 
            {
              \"id\":\"authorization_key\",
              \"name\": \"Authorization Key\", 
              \"type\": \"text\",
              \"is_sensitive\": true 
            },
            {
              \"id\": \"client_secret\",
              \"name\": \"Client Secret\",
              \"type\": \"text\",
              \"is_sensitive\": true
            }
          ]
        }
   ```



*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)*


## Requirements

Building the API client library requires:
1. Java 1.8+
2. Maven (3.8.3+)/Gradle (7.2+)

## Installation

To install the API client library to your local Maven repository, simply execute:

```shell
mvn clean install
```

To deploy it to a remote Maven repository instead, configure the settings of the repository and execute:

```shell
mvn clean deploy
```

Refer to the [OSSRH Guide](http://central.sonatype.org/pages/ossrh-guide.html) for more information.

### Maven users

Add this dependency to your project's POM:

```xml
<dependency>
  <groupId>org.chargebee.spi</groupId>
  <artifactId>cb-tax-location-validation-spi</artifactId>
  <version>0.0.11</version>
  <scope>compile</scope>
</dependency>
```

### Gradle users

Add this dependency to your project's build file:

```groovy
  repositories {
    mavenCentral()     // Needed if the 'cb-tax-location-validation-spi' jar has been published to maven central.
    mavenLocal()       // Needed if the 'cb-tax-location-validation-spi' jar has been published to the local maven repo.
  }

  dependencies {
     implementation "org.chargebee.spi:cb-tax-location-validation-spi:0.0.11"
  }
```

### Others

At first generate the JAR by executing:

```shell
mvn clean package
```

Then manually install the following JARs:

* `target/cb-tax-location-validation-spi-0.0.11.jar`
* `target/lib/*.jar`

## Getting Started

Please follow the [installation](#installation) instruction and execute the following Java code:

```java

// Import classes:
import org.chargebee.spi.location_validation.client.ApiClient;
import org.chargebee.spi.location_validation.client.ApiException;
import org.chargebee.spi.location_validation.client.Configuration;
import org.chargebee.spi.location_validation.client.auth.*;
import org.chargebee.spi.location_validation.client.models.*;
import org.chargebee.spi.location_validation.api.AuthenticationApi;

public class Example {
  public static void main(String[] args) {
    ApiClient defaultClient = Configuration.getDefaultApiClient();
    defaultClient.setBasePath("https://rest.taxes.provider.com/api/v1");
    
    // Configure API key authorization: apiKey
    ApiKeyAuth apiKey = (ApiKeyAuth) defaultClient.getAuthentication("apiKey");
    apiKey.setApiKey("YOUR API KEY");
    // Uncomment the following line to set a prefix for the API key, e.g. "Token" (defaults to null)
    //apiKey.setApiKeyPrefix("Token");

    // Configure HTTP bearer authorization: bearerAuth
    HttpBearerAuth bearerAuth = (HttpBearerAuth) defaultClient.getAuthentication("bearerAuth");
    bearerAuth.setBearerToken("BEARER TOKEN");

    AuthenticationApi apiInstance = new AuthenticationApi(defaultClient);
    try {
      CredentialValidationResponse result = apiInstance.validateCredentials();
      System.out.println(result);
    } catch (ApiException e) {
      System.err.println("Exception when calling AuthenticationApi#validateCredentials");
      System.err.println("Status code: " + e.getCode());
      System.err.println("Reason: " + e.getResponseBody());
      System.err.println("Response headers: " + e.getResponseHeaders());
      e.printStackTrace();
    }
  }
}

```

## Documentation for API Endpoints

All URIs are relative to *https://rest.taxes.provider.com/api/v1*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*AuthenticationApi* | [**validateCredentials**](docs/AuthenticationApi.md#validateCredentials) | **POST** /credentials/validate | Validate credentials
*HealthApi* | [**fetchHealth**](docs/HealthApi.md#fetchHealth) | **GET** /health | Fetch the health status of the Service Provider.
*LocationValidateApi* | [**locationValidate**](docs/LocationValidateApi.md#locationValidate) | **POST** /validate-location | Validate the location of customer with given evidences


## Documentation for Models

 - [Address](docs/Address.md)
 - [BasicErrorResponse](docs/BasicErrorResponse.md)
 - [CredentialStatus](docs/CredentialStatus.md)
 - [CredentialValidationResponse](docs/CredentialValidationResponse.md)
 - [ErrorCode](docs/ErrorCode.md)
 - [EvidenceOrigin](docs/EvidenceOrigin.md)
 - [FieldItem](docs/FieldItem.md)
 - [HealthCheckComponent](docs/HealthCheckComponent.md)
 - [HealthCheckResponse](docs/HealthCheckResponse.md)
 - [HealthStatus](docs/HealthStatus.md)
 - [LocationValidateErrorResponse](docs/LocationValidateErrorResponse.md)
 - [LocationValidateErrorResponseErrorsInner](docs/LocationValidateErrorResponseErrorsInner.md)
 - [LocationValidateResponse](docs/LocationValidateResponse.md)
 - [LocationValidationEvidence](docs/LocationValidationEvidence.md)
 - [LocationValidationStatus](docs/LocationValidationStatus.md)


<a id="documentation-for-authorization"></a>
## Documentation for Authorization


Authentication schemes defined for the API:
<a id="bearerAuth"></a>
### bearerAuth

- **Type**: HTTP Bearer Token authentication

<a id="apiKey"></a>
### apiKey

- **Type**: API key
- **API key parameter name**: bearer
- **Location**: HTTP header


## Recommendation

It's recommended to create an instance of `ApiClient` per thread in a multithreaded environment to avoid any potential issues.

## Author



